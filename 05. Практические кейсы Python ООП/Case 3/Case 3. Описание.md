## Кейс 3. CRM-система

Мы получили запрос от наших маркетологов, которые хотят интегрировать `CRM-систему` с веб-приложением. Попробуете помочь? Мы просим вас разработать **заготовку** для интеграции с CRM-системой. Заготовка должна позволять работать с моделью Лида (помните, что такое "лид" из модуля про продуктовые метрики?), моделью Симулятора и моделью Воронки продаж.

Мы примерно представляем как это должно по итогу выглядеть, поэтому опишем детали.

**Модель Лида:**

Лид представляет собой человека, который оставил заявку на сайте. Он имеет следующие атрибуты: `lead_id`, `datetime`, `page`, `form_title`, `contacts` и `name`. Класс должен принимать значения атрибутов Лида и сохранять их в объекте.

Класс `Lead` должен также иметь метод `to_dict()`, который возвращает словарь с атрибутами Лида для дальнейшего использования.

**Модель Симулятора:**

Симулятор представляет собой информацию о том, каким именно симулятором человек воспользовался при оставлении заявки. Симулятор имеет два атрибута: `simulator_type` и `version`.

Класс `Simulator` также должен иметь метод `to_dict()`, который возвращает словарь с атрибутами Симулятора.

**Модель Воронки продаж:**

Воронка продаж представляет собой последовательность этапов, через которые проходит лид от момента подачи заявки до завершения продажи. Каждый этап воронки имеет уникальное имя. Вам необходимо создать класс `SalesFunnel`, который будет представлять модель Воронки продаж. Класс должен принимать список этапов воронки и сохранять его в объекте.

Класс также должен иметь метод `process_lead(self, lead)`, который принимает объект Лида и перемещает его по этапам воронки. Причем при перемещении лид должен сохранять информацию о своем текущем этапе.

Шаги метода `process_lead`:

```python
crm_url = "https://itresume.com/crm/api/leads"
       crm_params = {
           'lead_id': lead.lead_id,
           'datetime': lead.datetime,
           'page': lead.page,
           'form_title': lead.form_title,
           'contacts': lead.contacts,
           'name': lead.name
       }
       response = requests.post(crm_url, json=crm_params)
```

А далее, если `response.status_code` == 200 - можете записать в логи сообщение об успешности передачи данных. Любой другой `status_code` будет означать ошибку, и можете записать сообщение об ошибке. Сообщения: `Данные лида успешно отправлены в CRM` или `Не удалось отправить данные лида в CRM`.
